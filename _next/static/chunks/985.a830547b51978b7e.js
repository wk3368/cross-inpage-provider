"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[985],{985:function(e,r,n){n.r(r),n.d(r,{default:function(){return s}});var o=n(5893),t=n(7294),a=n(2637),i=n(9399);function s(){var e=(0,t.useRef)(null);return(0,t.useLayoutEffect)((function(){var r,n;e.current&&(null===(r=e.current)||void 0===r?void 0:r.contentWindow)?window.hostBridge=new a.el({remoteFrame:null===(n=e.current)||void 0===n?void 0:n.contentWindow,remoteFrameName:"FRAME",selfFrameName:"HOST",channel:"onekey-js-sdk",receiveHandler:function(e){var r=e.data,n=r.method,o=r.params;if(console.log("receiveHandler >>>>> ",{method:n,params:o}),"hi"===n)return"from HOST: hahahah";if("hello"===n)return{message:"from HOST: okok"};if("error"===n)throw new Error("from HOST: something is wrong")}}):console.error("iframe not ready")}),[]),(0,o.jsxs)("div",{children:[["hi","hello","error"].map((function(e,r){return(0,o.jsxs)("button",{onClick:function(){(0,i.b)({method:e,params:[{index:r}]},window.hostBridge)},children:["sendToFrame (",e,")"]},e)})),(0,o.jsx)("iframe",{ref:e,src:"/iframe/frame",style:{width:"100%",height:"400px"},frameBorder:0})]})}},9399:function(e,r,n){n.d(r,{b:function(){return s}});var o=n(4051),t=n.n(o);function a(e,r,n,o,t,a,i){try{var s=e[a](i),u=s.value}catch(c){return void n(c)}s.done?r(u):Promise.resolve(u).then(o,t)}function i(e){return function(){var r=this,n=arguments;return new Promise((function(o,t){var i=e.apply(r,n);function s(e){a(i,o,t,s,u,"next",e)}function u(e){a(i,o,t,s,u,"throw",e)}s(void 0)}))}}function s(e,r){return u.apply(this,arguments)}function u(){return(u=i(t().mark((function e(r,n){var o,a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.method,a=r.params,e.prev=1,e.next=4,null===n||void 0===n?void 0:n.request({scope:"$hardware_sdk",data:{method:o,params:a}});case 4:i=e.sent,console.log("result >>>>",o," --\x3e ",i),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("bridge send ERROR response: ",o," --\x3e ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}}}]);
//# sourceMappingURL=985.a830547b51978b7e.js.map